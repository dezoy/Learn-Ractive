<h2>How to use partials</h2>

<p>Partials are a good way to split complex templates up into several more manageable files. Take this todo list, for example. It's not too bad, but the template would look neater if we could separate out the template for an individual item.</p>

<p>Well, we can. Add this above the rest of the code:</p>

<pre class='prettyprint lang-js'>
var item = "&lt;li data-index='{{i}}' class='{{done ? done : pending}}'&gt;" +
              "&lt;input type='checkbox' checked='{{done}}'&gt;" +
              "&lt;span proxy-tap='edit'&gt;{{description}}&lt;/span&gt;" +
              "&lt;a class='button' proxy-tap='remove'&gt;x&lt;/a&gt;" +
           "&lt;/li&gt;";
</pre>

<div class='hint'>
	<p>If the multiline string offends your aesthetic sensibilities, just imagine you were loading it from a template file or precompiling it instead. We'll cover precompilation in a future tutorial.</p>
</div>

<p>Then, in the main template we replace all that with a partial, which looks like a regular mustache but with a <code>&gt;</code> character:</p>

<pre class='prettyprint lang-html'>
&lt;ul class='todos'&gt;
  {{#items:i}}
    {{&gt;item}}
  {{/items}}
&lt;/ul&gt;
</pre>

<p>Finally, we need to add the partial when we define our <code>TodoList</code>:</p>

<pre class='prettyprint lang-js'>
var TodoList = Ractive.extend({
  template: template,
  partials: { item: item },
  // etc...
});
</pre>

<p>Execute this code.</p>

<div class='hint'>
  <p>You may have noticed this odd-looking mustache in the template: <code>{{done ? done : pending}}</code>. Students of the <a href='http://mustache.github.io/mustache.5.html'>mustache specification</a> will know that &ndash; like modifiers and index references &ndash; this syntax isn't part of it.</p>

  <p>It's basically a shorthand for <code>{{#done}}done{{/done}}{{^done}}pending{{/done}}</code>. Toggling an element between two class names is a common enough use case in web apps that it makes sense to add this syntax to the mix.</p>
</div>